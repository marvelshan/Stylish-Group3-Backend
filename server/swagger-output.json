{
  "swagger": "2.0",
  "info": {
    "title": "Stylish Co-work",
    "description": "Stylish co-working project",
    "version": "1.0.0"
  },
  "host": "ygolonhcet.online",
  "basePath": "/",
  "schemes": [
    "https"
  ],
  "paths": {
    "/api/products": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "paging",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/products/search": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "paging",
            "in": "query",
            "type": "string"
          },
          {
            "name": "keyword",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/products/autosearch": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "透過 auto complete 搜尋商品標題",
        "description": "",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "type": "string",
            "description": "keyword",
            "schema": {
              "$ref": "#/definitions/Keyword"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/AutoCompleteSuccess"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error",
            "schema": {
              "$ref": "#/definitions/Errors"
            }
          }
        }
      }
    },
    "/api/products/details": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/products/{category}": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "category",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "paging",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/product": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "color": {
                  "example": "any"
                },
                "colorName": {
                  "example": "any"
                },
                "size": {
                  "example": "any"
                },
                "stock": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/user/signup": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "example": "any"
                },
                "email": {
                  "example": "any"
                },
                "password": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/user/signin": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "provider": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Bad Request"
          }
        }
      }
    },
    "/api/user/profile": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/marketing/campaigns": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "productId": {
                  "example": "any"
                },
                "story": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/marketing/hots": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "paging",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/order/checkout": {
      "post": {
        "tags": [
          "Order"
        ],
        "summary": "結帳",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          },
          {
            "name": "request",
            "in": "body",
            "description": "Request",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CheckoutList"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/CheckoutSuccess"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/v1/report/payments": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/v2/report/payments": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/v1/collection": {
      "get": {
        "tags": [
          "Collection"
        ],
        "summary": "取得使用者的收藏商品",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          },
          {
            "name": "paging",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Collections"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error",
            "schema": {
              "$ref": "#/definitions/Errors"
            }
          }
        }
      },
      "post": {
        "tags": [
          "Collection"
        ],
        "summary": "加入或刪除使用者收藏的商品",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          },
          {
            "name": "body",
            "in": "body",
            "description": "method: create or delete",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CollectionPostMethods"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/CollectionSuccess"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/v1/coupons": {
      "get": {
        "tags": [
          "User Coupon"
        ],
        "summary": "查詢目前可用的優惠券",
        "description": "",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ValidCoupons"
            }
          }
        }
      },
      "post": {
        "tags": [
          "User Coupon"
        ],
        "summary": "將優惠券與使用者帳號綁定",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          },
          {
            "name": "method",
            "in": "body",
            "description": "couponId",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CouponId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/AddCouponSuccess"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/v1/user-coupons": {
      "get": {
        "tags": [
          "User Coupon"
        ],
        "summary": "讀取使用者所有的優惠券",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/UserCoupons"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/v1/valid-coupons": {
      "get": {
        "tags": [
          "User Coupon"
        ],
        "summary": "讀取使用者尚未使用且未過期的優惠券",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/UserCoupons"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/v1/invalid-coupons": {
      "get": {
        "tags": [
          "User Coupon"
        ],
        "summary": "讀取使用者使用過或過期的優惠券",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/UserCoupons"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/marketing/coupons": {
      "get": {
        "tags": [
          "Admin Coupon"
        ],
        "summary": "讀取目前可用的優惠券",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ValidCoupons"
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "delete": {
        "tags": [
          "Admin Coupon"
        ],
        "summary": "讓目前優惠券變為零",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          },
          {
            "name": "Request Body",
            "in": "body",
            "description": "Request body",
            "schema": {
              "$ref": "#/definitions/CouponId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ValidCoupons"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": [
          "Admin Coupon"
        ],
        "summary": "管理員新增優惠券",
        "description": "",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer Token",
            "schema": {
              "$ref": "#/definitions/Token"
            }
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "description": "優惠券",
            "schema": {
              "$ref": "#/definitions/AddCoupon"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/AddCouponSuccess"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    }
  },
  "definitions": {
    "CheckoutSuccess": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "properties": {
            "number": {
              "type": "string",
              "example": "4465123465"
            }
          }
        }
      }
    },
    "CheckoutList": {
      "type": "object",
      "properties": {
        "prime": {
          "type": "string",
          "example": "ccc1491581661f700bcc1cafec673c741f0665ca77550fe828ef38ee1437a2b8"
        },
        "couponId": {
          "type": "number",
          "example": 123
        },
        "order": {
          "type": "object",
          "properties": {
            "shipping": {
              "type": "string",
              "example": "delivery"
            },
            "payment": {
              "type": "string",
              "example": "credit_card"
            },
            "subtotal": {
              "type": "number",
              "example": 1234
            },
            "freight": {
              "type": "number",
              "example": 14
            },
            "total": {
              "type": "number",
              "example": 1300
            },
            "recipient": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "Luke"
                },
                "phone": {
                  "type": "string",
                  "example": "0987654321"
                },
                "email": {
                  "type": "string",
                  "example": "luke@gmail.com"
                },
                "address": {
                  "type": "string",
                  "example": "市政府站"
                },
                "time": {
                  "type": "string",
                  "example": "morning"
                }
              }
            },
            "list": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "201807202157"
                  },
                  "name": {
                    "type": "string",
                    "example": "活力花紋長筒牛仔褲"
                  },
                  "price": {
                    "type": "number",
                    "example": 1299
                  },
                  "color": {
                    "type": "object",
                    "properties": {
                      "code": {
                        "type": "string",
                        "example": "DDF0FF"
                      },
                      "name": {
                        "type": "string",
                        "example": "淺藍"
                      }
                    }
                  },
                  "size": {
                    "type": "string",
                    "example": "M"
                  },
                  "qty": {
                    "type": "number",
                    "example": 1
                  }
                }
              }
            }
          }
        }
      }
    },
    "Token": {
      "type": "object",
      "properties": {
        "Authorization": {
          "type": "string",
          "example": "Bearer"
        }
      }
    },
    "CollectionPostMethods": {
      "type": "object",
      "properties": {
        "productId": {
          "type": "number",
          "example": 123
        },
        "method": {
          "type": "string",
          "example": "create"
        }
      }
    },
    "CouponId": {
      "type": "object",
      "properties": {
        "id": {
          "type": "number",
          "example": 12
        }
      }
    },
    "Keyword": {
      "type": "object",
      "properties": {
        "keyword": {
          "type": "string",
          "example": "經典"
        }
      }
    },
    "ValidCoupons": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "number",
                "example": 123
              },
              "type": {
                "type": "string",
                "example": "折扣"
              },
              "title": {
                "type": "string",
                "example": "Summer Sale"
              },
              "discount": {
                "type": "number",
                "example": 20
              },
              "startDate": {
                "type": "string",
                "example": "2023-12-17T03:24:00"
              },
              "expiredDate": {
                "type": "string",
                "example": "2023-12-17T03:24:00"
              },
              "amount": {
                "type": "number",
                "example": 20
              }
            }
          }
        }
      }
    },
    "UserCoupons": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "number",
                "example": 123
              },
              "type": {
                "type": "string",
                "example": "折扣"
              },
              "title": {
                "type": "string",
                "example": "Summer Sale"
              },
              "discount": {
                "type": "number",
                "example": 20
              },
              "startDate": {
                "type": "string",
                "example": "2023-12-17T03:24:00"
              },
              "expiredDate": {
                "type": "string",
                "example": "2023-12-17T03:24:00"
              },
              "isUsed": {
                "type": "number",
                "example": 0
              }
            }
          }
        }
      }
    },
    "AddCoupon": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "example": "折扣"
        },
        "title": {
          "type": "string",
          "example": "20"
        },
        "discount": {
          "type": "number",
          "example": 70
        },
        "start_date": {
          "type": "string",
          "example": "2023-12-17T03:24:00"
        },
        "expiry_date": {
          "type": "string",
          "example": "2023-12-17T12:24:00"
        },
        "amount": {
          "type": "number",
          "example": 2000
        }
      }
    },
    "AddCouponSuccess": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "example": true
        },
        "message": {
          "type": "string",
          "example": "優惠券新增成功！"
        },
        "couponId": {
          "type": "number",
          "example": 123
        }
      }
    },
    "Collections": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "properties": {
            "user_id": {
              "type": "number",
              "example": 1
            },
            "products": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "number",
                    "example": 201902191210
                  },
                  "category": {
                    "type": "string",
                    "example": "women"
                  },
                  "title": {
                    "type": "string",
                    "example": "精緻扭結洋裝"
                  },
                  "description": {
                    "type": "string",
                    "example": "厚薄：薄\r\n彈性：無"
                  },
                  "price": {
                    "type": "number",
                    "example": 999
                  },
                  "texture": {
                    "type": "string",
                    "example": "棉 100%"
                  },
                  "wash": {
                    "type": "string",
                    "example": "手洗"
                  },
                  "place": {
                    "type": "string",
                    "example": "越南"
                  },
                  "note": {
                    "type": "string",
                    "example": "實品顏色依單品照為主"
                  },
                  "story": {
                    "type": "string",
                    "example": "O.N.S is all about options, which is why we took our staple polo shirt and upgraded it with slubby linen jersey, making it even lighter for those who prefer their summer style extra-breezy."
                  },
                  "main_image": {
                    "type": "string",
                    "example": "https://api.appworks-school.tw/assets/201902191210/main.jpg"
                  },
                  "images": {
                    "type": "array",
                    "example": [
                      "https://api.appworks-school.tw/assets/201902191210/0.jpg",
                      "https://api.appworks-school.tw/assets/201902191210/1.jpg",
                      "https://api.appworks-school.tw/assets/201902191210/0.jpg",
                      "https://api.appworks-school.tw/assets/201902191210/1.jpg"
                    ],
                    "items": {
                      "type": "string"
                    }
                  },
                  "variants": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "color_code": {
                          "type": "string",
                          "example": "FFDDDD"
                        },
                        "size": {
                          "type": "string",
                          "example": "M"
                        },
                        "stock": {
                          "type": "number",
                          "example": 1
                        }
                      }
                    }
                  },
                  "colors": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "FFDDDD"
                        },
                        "name": {
                          "type": "string",
                          "example": "粉紅"
                        }
                      }
                    }
                  },
                  "sizes": {
                    "type": "array",
                    "example": [
                      "S",
                      "M"
                    ],
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "next_paging": {
          "type": "number",
          "example": 1
        }
      }
    },
    "CollectionSuccess": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "example": true
        },
        "message": {
          "type": "string",
          "example": "已加入收藏"
        },
        "id": {
          "type": "number",
          "example": 1
        }
      }
    },
    "Errors": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string",
          "example": "error message"
        }
      }
    },
    "AutoCompleteSuccess": {
      "type": "object",
      "properties": {
        "total": {
          "type": "number",
          "example": 3
        },
        "products": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "example": "153"
              },
              "title": {
                "type": "string",
                "example": "經典商務西裝"
              },
              "price": {
                "type": "number",
                "example": 3999
              }
            }
          }
        }
      }
    }
  }
}